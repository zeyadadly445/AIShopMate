# ุญู ุณุฑูุน ููุดููุฉ ุชุนุงุฑุถ ุฃููุงุน ุงูุจูุงูุงุช

## โ ุงููุดููุฉ ุงูุฃุตููุฉ:
```
ERROR: 42804: foreign key constraint "ChatCustomization_merchantId_fkey" cannot be implemented
DETAIL: Key columns "merchantId" and "id" are of incompatible types: uuid and text.
```

## โ ุงูุณุจุจ ูุงูุญู:
- **ุงูุณุจุจ**: ุฌุฏูู `Merchant` ูุณุชุฎุฏู ููุน `TEXT` ูุญูู `id`ุ ุจูููุง SQL ุงููุฏูู ูุงู ูุณุชุฎุฏู `UUID`
- **ุงูุญู**: ุชุตุญูุญ ููุน ุงูุจูุงูุงุช ูู SQL ููููู `TEXT` ุจุฏูุงู ูู `UUID`

---

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ:

### 1. SQL ุขูู ุฌุฏูุฏ:
- **ุงูููู**: `supabase-chat-customization-safe.sql`
- **ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุชุทุจูู
- **ุงูุฃูุงู**: ๐ ูุญูู ุจุงููุงูู - ูุง ููุณุญ ุฃู ุจูุงูุงุช

### 2. API ูุญุฏุซ:
- **ุงูููู**: `app/api/chat-appearance/[chatbotId]/route.ts`
- **ุงูุชุญุฏูุซ**: โ ุฃุณูุงุก ุงูุญููู ูุชุทุงุจูุฉ ูุน SQL
- **ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

---

## ๐ ุฎุทูุงุช ุงูุชุทุจูู ุงูุณุฑูุนุฉ:

### 1. ุชุทุจูู SQL ูู Supabase:
```sql
-- ุงูุณุฎ ูุญุชููุงุช ููู: supabase-chat-customization-safe.sql
-- ุงูุตู ูู Supabase SQL Editor
-- ุงุถุบุท ุชุดุบูู
```

### 2. ุงุฎุชุจุงุฑ ุงููุธุงู:
```url
http://localhost:3000/customize/[chatbotId]
```

### 3. ุงูุชุญูู ูู ุงููุฌุงุญ:
ุณุชุธูุฑ ุฑุณุงุฆู ุฎุถุฑุงุก ูุซู:
```
โ ุชู ุฅุนุฏุงุฏ ูุธุงู ุชุฎุตูุต ูุธูุฑ ุงูุดุงุช ุจูุฌุงุญ!
๐ ุฌููุน ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูุญููุธุฉ ูุขููุฉ
```

---

## ๐ก๏ธ ุถูุงูุงุช ุงูุฃูุงู:

| โ **ูุญูู** | โ **ูุง ูุญุฏุซ** |
|-------------|----------------|
| ุฌููุน ุฌุฏุงูู Merchant | ุญุฐู ุฃู ุชุนุฏูู ุงูุจูุงูุงุช |
| ุฌููุน ุงููุญุงุฏุซุงุช ูุงูุฑุณุงุฆู | ูุณุญ ุงููุญุชูู |
| ุงูุงุดุชุฑุงูุงุช ูุงูุฅุนุฏุงุฏุงุช | ุชุบููุฑ ุงูุชูููู |
| ุงููุธุงู ุงูุญุงูู ูุงููุงู | ุฃู ุชุฏุงุฎู ุฃู ูุณุฑ |

---

## ๐ ูู ุญุงูุฉ ุงููุดุงูู:

### ุฅุฐุง ุธูุฑ ุฎุทุฃ ูุฑุฉ ุฃุฎุฑู:
1. **ุชุญูู ูู**: ุฑุณุงุฆู SQL ูู Supabase Console
2. **ุฑุงุฌุน**: `SAFE_SQL_DEPLOYMENT_GUIDE.md` ููุชูุงุตูู
3. **ุชุฃูุฏ ูู**: ูุณุฎ SQL ูุงููุงู ุฏูู ุชุนุฏูู

### ุฅุฐุง ูู ูุนูู ุงููุธุงู:
1. **ุชุญูู ูู**: `npm run dev` ูุนูู ุจุฏูู ุฃุฎุทุงุก
2. **ุฑุงุฌุน**: Browser Console ููุฑุณุงุฆู
3. **ุชุฃูุฏ ูู**: `.env.local` ูุญุชูู ุนูู `DATABASE_URL` ุตุญูุญ

---

## ๐ฏ ูุง ุชู ุฅุตูุงุญู:

| ุงููุดููุฉ | ุงูุญู |
|---------|------|
| ุชุนุงุฑุถ UUID vs TEXT | โ ุชุตุญูุญ ููุน ุงูุจูุงูุงุช |
| ุนุฏู ุชุทุงุจู ุฃุณูุงุก ุงูุญููู | โ ุชูุญูุฏ ุงูุฃุณูุงุก ูู API ู SQL |
| ูุฎุงูู ุงูุฃูุงู | โ ุขููุงุช ุญูุงูุฉ ุดุงููุฉ |
| ุงูุชูุซูู ุงูููููุฏ | โ ุฃุฏูุฉ ููุตูุฉ |

---

**๐ ุงูุฎูุงุตุฉ**: ุงููุดููุฉ ูุญูููุฉ ุจุงููุงูู! ุงุณุชุฎุฏู ุงูููู `supabase-chat-customization-safe.sql` ููู ุดูุก ุณูุนูู ุจุดูู ูุซุงูู. 